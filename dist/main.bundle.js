(()=>{let t,i=[100,350],e=[50,250];window.onload=function(){let i={type:Phaser.AUTO,width:1334,height:750,scene:a,backgroundColor:4473924,physics:{default:"arcade"}};t=new Phaser.Game(i),window.focus(),o(),window.addEventListener("resize",o,!1)};class a extends Phaser.Scene{constructor(){super("PlayGame")}preload(){this.load.image("platform","platform.png"),this.load.image("player","player.png")}create(){this.platformGroup=this.add.group({removeCallback:function(t){t.scene.platformPool.add(t)}}),this.platformPool=this.add.group({removeCallback:function(t){t.scene.platformGroup.add(t)}}),this.playerJumps=0,this.addPlatform(t.config.width,t.config.width/2),this.player=this.physics.add.sprite(200,t.config.height/2,"player"),this.player.setGravityY(900),this.physics.add.collider(this.player,this.platformGroup),this.input.on("pointerdown",this.jump,this)}addPlatform(e,a){let o;this.platformPool.getLength()?(o=this.platformPool.getFirst(),o.x=a,o.active=!0,o.visible=!0,this.platformPool.remove(o)):(o=this.physics.add.sprite(a,.8*t.config.height,"platform"),o.setImmovable(!0),o.setVelocityX(-350),this.platformGroup.add(o)),o.displayWidth=e,this.nextPlatformDistance=Phaser.Math.Between(i[0],i[1])}jump(){(this.player.body.touching.down||this.playerJumps>0&&this.playerJumps<2)&&(this.player.body.touching.down&&(this.playerJumps=0),this.player.setVelocityY(-400),this.playerJumps++)}update(){this.player.y>t.config.height&&this.scene.start("PlayGame"),this.player.x=200;let i=t.config.width;if(this.platformGroup.getChildren().forEach((function(e){let a=t.config.width-e.x-e.displayWidth/2;i=Math.min(i,a),e.x<-e.displayWidth/2&&(this.platformGroup.killAndHide(e),this.platformGroup.remove(e))}),this),i>this.nextPlatformDistance){var a=Phaser.Math.Between(e[0],e[1]);this.addPlatform(a,t.config.width+a/2)}}}function o(){let i=document.querySelector("canvas"),e=window.innerWidth,a=window.innerHeight,o=e/a,s=t.config.width/t.config.height;o<s?(i.style.width=e+"px",i.style.height=e/s+"px"):(i.style.width=a*s+"px",i.style.height=a+"px")}})();